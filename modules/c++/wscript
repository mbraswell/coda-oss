import os


def options(opt):
    opt.recurse()


def configure(conf):
    conf.env.append_value('INCLUDES_UNITTEST',
                          os.path.join(conf.path.abspath(), 'include'))
    if conf.env['COMPILER_CXX'] == 'msvc':
        conf.env.CXXFLAGS += ['/std:c++17']
    else:
        conf.env.CXXFLAGS += ['-std=c++17']
    conf.recurse()


def build(bld):
    bld.recurse()
    testHeader = bld.path.make_node('include/TestCase.h')
    bld.install_files(dest=bld.env['install_includedir'],
                      files=testHeader)


def distclean(context):
    context.recurse()
